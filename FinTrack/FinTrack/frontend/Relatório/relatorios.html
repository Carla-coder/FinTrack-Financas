<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestão Financeira - Relatórios</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="app-container">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
        <div class="container-fluid">
          <a class="navbar-brand" href="home.html">Gestão Financeira</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="../Dashboard/dashboard.html">Dashboard</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../Transação/transacoes.html">Transações</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../Orçamento/orcamentos.html">Orçamentos</a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link active"
                  aria-current="page"
                  href="../Relatório/relatorios.html"
                  >Relatórios</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <h1 class="mb-4">Relatórios Financeiros</h1>

      <div class="report-filter card">
        <div class="card-body">
          <h5 class="card-title mb-3">Filtros de Relatório</h5>
          <form id="reportForm" class="row g-3">
            <div class="col-md-4">
              <label for="reportType" class="form-label"
                >Tipo de Relatório</label
              >
              <select class="form-select" id="reportType">
                <option value="income-expense">Receitas vs Despesas</option>
                <option value="category-breakdown">
                  Detalhamento por Categoria
                </option>
                <option value="budget-performance">
                  Desempenho do Orçamento
                </option>
                <option value="savings-trend">Tendência de Economia</option>
              </select>
            </div>
            <div class="col-md-4">
              <label for="dateFrom" class="form-label">Data Inicial</label>
              <input type="date" class="form-control" id="dateFrom" required />
            </div>
            <div class="col-md-4">
              <label for="dateTo" class="form-label">Data Final</label>
              <input type="date" class="form-control" id="dateTo" required />
            </div>
            <div class="col-12">
              <button type="submit" class="btn btn-primary">
                Gerar Relatório
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="row mt-4 d-none" id="chartsContainer">
        <div class="col-md-6" id="incomeExpenseChartContainer">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Receitas vs Despesas</h5>
              <canvas id="incomeExpenseChart"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-6" id="categoryBreakdownChartContainer">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Detalhamento por Categoria</h5>
              <canvas id="categoryBreakdownChart"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-6" id="budgetPerformanceChartContainer">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Desempenho do Orçamento</h5>
              <canvas id="budgetPerformanceChart"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-6" id="savingsTrendChartContainer">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Tendência de Economia</h5>
              <canvas id="savingsTrendChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="card mt-4 d-none" id="summaryCard">
        <div class="card-body">
          <h5 class="card-title">Resumo Financeiro</h5>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Métrica</th>
                <th>Valor</th>
              </tr>
            </thead>
            <tbody id="summaryTableBody">
              <tr>
                <td>Total de Receitas</td>
                <td id="totalIncome">R$ 0,00</td>
              </tr>
              <tr>
                <td>Total de Despesas</td>
                <td id="totalExpenses">R$ 0,00</td>
              </tr>
              <tr>
                <td>Saldo</td>
                <td id="balance" class="text-success">R$ 0,00</td>
              </tr>
              <tr>
                <td>Categoria com Maior Gasto</td>
                <td id="highestExpenseCategory">-</td>
              </tr>
              <tr>
                <td>Economia do Mês</td>
                <td id="monthlySavings">0%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
